# SPDX-FileCopyrightText: 2025 The EDDIE Developers <eddie.developers@fh-hagenberg.at>
# SPDX-License-Identifier: Apache-2.0

name: Build snapshot docker images

on:
  workflow_dispatch:

jobs:
  build:
    runs-on: [ self-hosted, internal ]
    permissions:
      contents: read
      packages: write
    steps:
      - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8
      - name: Get the version
        id: get_version
        run: echo "VERSION=snapshot-${{ github.sha }}" >> $GITHUB_OUTPUT
      - name: Build docker containers
        uses: ./.github/actions/build-containers
        with:
          version: '${{ steps.get_version.outputs.VERSION }}'
          secrets: ${{ secrets.GITHUB_TOKEN }}